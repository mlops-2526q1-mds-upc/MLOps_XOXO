schema: '2.0'
stages:
  ingest:
    cmd: python mlops_xoxo/emotion_classification/data_ingest.py
    deps:
    - path: data/external/emotion_classification
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: mlops_xoxo/emotion_classification/data_ingest.py
      hash: md5
      md5: dcf7274c91e69377dbeaebe1c7a773d5
      size: 992
    outs:
    - path: data/raw/emotion_classification/ingest_manifest.json
      hash: md5
      md5: 9ffabbf88798cec5c2464da464437746
      size: 155
  split:
    cmd: python mlops_xoxo/emotion_classification/data_split.py
    deps:
    - path: data/raw/emotion_classification
      hash: md5
      md5: 63f3448b879563daf6c429450b05820e.dir
      size: 62415781
      nfiles: 35892
    - path: mlops_xoxo/emotion_classification/data_split.py
      hash: md5
      md5: 331e7b7a1fadb78be49798f6e55a1063
      size: 3782
    outs:
    - path: data/processed/emotion_classification
      hash: md5
      md5: 2e0af24702510d84b96f110d3fc04e40.dir
      size: 56141736
      nfiles: 32299
  validate:
    cmd: python mlops_xoxo/emotion_classification/data_validate.py
    deps:
    - path: data/raw/emotion_classification
      hash: md5
      md5: 63f3448b879563daf6c429450b05820e.dir
      size: 62415781
      nfiles: 35892
    - path: mlops_xoxo/emotion_classification/data_validate.py
      hash: md5
      md5: 4bdd062bd9c3ebb98c760b4340cef732
      size: 1306
    outs:
    - path: docs/emotion_classification
      hash: md5
      md5: 6d8a6d5da892bb2aaed4f61fdce3b2d1.dir
      size: 147
      nfiles: 1
  train:
    cmd: python mlops_xoxo/emotion_classification/train.py > mlflow_run_id.txt
    deps:
    - path: data/processed/emotion_classification/train
      hash: md5
      md5: d71e340a67699142e3c667856e9f5628.dir
      size: 39272838
      nfiles: 22604
    - path: mlops_xoxo/emotion_classification/train.py
      hash: md5
      md5: e8e38b95d6a3bc75090cae931190a4f6
      size: 12766
    - path: pipelines/emotion_classification/params.yaml
      hash: md5
      md5: cc29b41c794b113f9d84e0daed416904
      size: 672
    params:
      pipelines/emotion_classification/params.yaml:
        training:
          epochs: 50
          batch_size: 32
          device: mps
          lr: 0.001
          fraction: 1.0
          early_stopping_patience: 4
          save_onnx: false
    outs:
    - path: models/emotion_classification
      hash: md5
      md5: 26566ef231ac07ef7cd0af1b5393dc36.dir
      size: 178988560
      nfiles: 2
    - path: reports/emotion_classification/emissions.csv
      hash: md5
      md5: 89de11b5a42e8d2d1537f6fc2a4e78a2
      size: 803
  eval:
    cmd: python mlops_xoxo/emotion_classification/eval.py
    deps:
    - path: data/processed/emotion_classification/val
      hash: md5
      md5: 81651358795d568db4ad5a301f4fd1bd.dir
      size: 8434004
      nfiles: 4841
    - path: mlops_xoxo/emotion_classification/eval.py
      hash: md5
      md5: f320f7d1d013d39ae214fbf025690bb6
      size: 5306
    - path: models/emotion_classification
      hash: md5
      md5: 26566ef231ac07ef7cd0af1b5393dc36.dir
      size: 178988560
      nfiles: 2
    - path: pipelines/emotion_classification/params.yaml
      hash: md5
      md5: cc29b41c794b113f9d84e0daed416904
      size: 672
    outs:
    - path: reports/emotion_classification/eval_metrics.json
      hash: md5
      md5: 9183c4f6b87fc046079aaca13a06d488
      size: 1490
    - path: reports/emotion_classification/eval_summary.txt
      hash: md5
      md5: f8ed478dcfad63212feb85cbe47d3afc
      size: 596
